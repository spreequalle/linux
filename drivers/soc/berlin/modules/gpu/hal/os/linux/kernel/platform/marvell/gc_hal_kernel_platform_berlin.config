####modified for marvell bg2
######these two variables are used to compile linux, if you want to compile linux version, please turn on them
EXTRA_CFLAGS += -D__LINUX_KERNEL__
EXTRA_CFLAGS += -DMV88DE
EXTRA_CFLAGS += -I$(AQROOT)/include

EXTRA_CFLAGS += -Iarch/arm/mach-berlin/modules/shm
#EXTRA_CFLAGS += -DDEBUG -D_DEBUG

MODULE_NAME := gal3d
DRV_NAME ?= gal3d
EXTRA_CFLAGS   += -DDRV_NAME=\"$(DRV_NAME)\"

GAL_DEV  ?= /dev/$(DRV_NAME)
EXTRA_CFLAGS   += -DGAL_DEV=\"$(GAL_DEV)\"
NO_USER_DIRECT_ACCESS_FROM_KERNEL ?= 1
USE_GALOIS_SHM ?= 0
USE_MRVL_ION ?= 0
SHM_FROM_SYSTEM ?= 1
####end for marvell bg2

####modified for marvell bg2
ifeq ($(USE_GALOIS_SHM), 1)
EXTRA_CFLAGS += -DUSE_GALOIS_SHM=1
SHM_FROM_SYSTEM = 0
else
EXTRA_CFLAGS += -DUSE_GALOIS_SHM=0
endif

ifeq ($(USE_MRVL_ION), 1)
CUSTOMER_ALLOCATOR_OBJS := $(OS_KERNEL_DIR)/allocator/marvell/gc_hal_kernel_allocator_ion.o
ALLOCATOR_ARRAY_H_LOCATION := $(OS_KERNEL_DIR)/allocator/marvell/
EXTRA_CFLAGS += -DUSE_ION=1
EXTRA_CFLAGS += -DgcdLINEAR_SIZE_LIMIT=524288
endif

ifeq ($(SHM_FROM_SYSTEM), 1)
EXTRA_CFLAGS += -DSHM_FROM_SYSTEM=1
else
EXTRA_CFLAGS += -DSHM_FROM_SYSTEM=0
endif

ifeq ($(USE_GALOIS_SHM), 1)
CUSTOMER_ALLOCATOR_OBJS := $(OS_KERNEL_DIR)/allocator/marvell/gc_hal_kernel_allocator_shm.o
ALLOCATOR_ARRAY_H_LOCATION := $(OS_KERNEL_DIR)/allocator/marvell/
EXTRA_CFLAGS += -DUSE_SHM=1
EXTRA_CFLAGS += -DgcdLINEAR_SIZE_LIMIT=512
endif
####end for marvell bg2


ifeq ($(SECURITY), 1)
EXTRA_CFLAGS += -I$(AQROOT)/../../vendor/marvell-sdk/tee/include/
EXTRA_CFLAGS += -I$(AQROOT)/../../vendor/marvell-sdk/tee/tee/client_api
EXTRA_CFLAGS += -I$(AQROOT)/../../vendor/marvell-sdk/tee/tee/common/
endif

EXTRA_CFLAGS += -DDEVICE_NAME=\"gal3d\"
